<div class="property_container">
  <% if @property.nil? %>
    <div style="position: absolute; top: 30%;">
      <p class="text-center">No more properties match your criteria. Click below to view all of the properties you've liked</p>
      <%= link_to "My dashboard", dashboard_path(current_user), class: "btn btn-success text-align-center", style: "display: block; color: white;" %>
    </div>
  <% else %>
      <div class="property_card">
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block w-100" src="<%= cl_image_path @property.photo.key, height: 300, width: 350, crop: :fill %>" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100 map" src="https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/<%=@property.longitude%>,<%=@property.latitude%>,10.45,0,0/600x1000?access_token=pk.eyJ1Ijoic2hvdWtvMDUyMiIsImEiOiJjazM4bDU2NW4wMzl3M2lxZTE5cml5a2tlIn0.s7I7YWPUw2sOQdWENcgDtA" alt="Second slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
      <%#= cl_image_tag @property.photo.key, height: 300, width: 350, crop: :fill %>
        <div class="property-info">
          <div class="price">¥<%= @property.price %>,000/m</div>
          <div style="margin-top: -12px;">
            <div><i class="fas fa-subway"></i> <%= @property.distance_to_station %>min from <%= @property.location %> station</div>
            <div><i class="fas fa-bed"></i> <%= @property.layout %>
              <p style="font-size: 10px; margin-top: -6px; margin-bottom: 0;">Layout</p>
            </div>
            <div><i class="fas fa-ruler-combined"></i> <%= @property.size %>m²
              <p style="font-size: 10px; margin-top: -6px; margin-bottom: 0;">Size</p>
            </div>
            <div><i class="fas fa-home"></i> <%= @property.age %>
              <p style="font-size: 10px; margin-top: -6px; margin-bottom: 0;">Age</p>
            </div>
            <div><i class="fas fa-money-check-alt"> </i> <%= @property.deposit %>,000
              <p style="font-size: 10px; margin-top: -6px; margin-bottom: 0;">Deposit</p>
            </div>
          </div>
        </div>
        <div class="like">
          <%= simple_form_for @property_viewing do |f| %>
            <%= f.input :property_id, :as => :hidden, :input_html => { :value => @property.id } %>
            <%= f.input :status, :as => :hidden, :input_html => { :value => "liked" } %>
            <%= f.button :submit, "Like", class: "btn btn-primary", style: "position: absolute; left: 60%; bottom: 15%;"%>
          <% end %>
        </div>
        <div class="dislike">
          <%= simple_form_for @property_viewing do |f| %>
            <%= f.input :property_id, :as => :hidden, :input_html => { :value => @property.id } %>
            <%= f.input :status, :as => :hidden, :input_html => { :value => "disliked" } %>
            <%= f.button :submit, "Dislike", class: "btn btn-danger", style: "position: absolute; left: 76%; bottom: 15%;"%>
          <% end %>
        </div>
    </div>
  <% end %>
</div>
